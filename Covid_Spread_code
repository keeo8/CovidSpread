<pre><font color="#007f69">breed</font><font color="#000000">[<br />persons person </font><font color="#5a5a5a">;students</font><font color="#000000"><br />]<br /><br /><br /><br /></font><font color="#5a5a5a">; dining hall has highest transmission rate</font><font color="#000000"><br /></font><font color="#5a5a5a">; library and other areas are 50/50</font><font color="#000000"><br /></font><font color="#5a5a5a">; class has least</font><font color="#000000"><br /></font><font color="#5a5a5a">; random chance for parties</font><font color="#000000"><br /></font><font color="#5a5a5a">; room capacities?</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;;; current limitations;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;does not take into account somesfkasdjflksdjf think ab out it later</font><font color="#000000"><br /><br /><br /><br /></font><font color="#5a5a5a">;variables that show patches purpose</font><font color="#000000"><br /></font><font color="#007f69">patches-own</font><font color="#000000"> [<br />  dining?<br />  residence?<br />  class?<br />  quarantine?<br />]<br /><br /><br /><br /></font><font color="#007f69">persons-own</font><font color="#000000">[<br />  infected? </font><font color="#5a5a5a">;shows if person is infected</font><font color="#000000"><br />  close-contact? </font><font color="#5a5a5a">;shows if student recently came into contact with someone with covid</font><font color="#000000"><br />  current-building? </font><font color="#5a5a5a">;shows current building of student</font><font color="#000000"><br />  infection-counter </font><font color="#5a5a5a">; counts down how much covid someone has</font><font color="#000000"><br />  immunity </font><font color="#5a5a5a">; this is going to stop someone from getting covid</font><font color="#000000"><br />  close-contact-counter </font><font color="#5a5a5a">;; gets rid of close-contact following</font><font color="#000000"><br />  known? </font><font color="#5a5a5a">; if person knows they are infected, they go to quarantine</font><font color="#000000"><br />  dorm </font><font color="#5a5a5a">; dorm room</font><font color="#000000"><br />  class1 </font><font color="#5a5a5a">; one classroom</font><font color="#000000"><br />  class2 </font><font color="#5a5a5a">; two classrooms</font><font color="#000000"><br />  dining </font><font color="#5a5a5a">; choice of dining hall</font><font color="#000000"><br />  current-location </font><font color="#5a5a5a">; keeps track of where students are</font><font color="#000000"><br />  quarantined?  </font><font color="#5a5a5a">;students are kept in isolation</font><font color="#000000"><br />]<br /><br /><br /></font><font color="#5a5a5a">;observer context</font><font color="#000000"><br /></font><font color="#5a5a5a">;creates world and creates students at the college</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> setup<br />  </font><font color="#0000aa">import-pcolors</font><font color="#000000"> </font><font color="#963700">&quot;midd-map7.png&quot;</font><font color="#000000"> </font><font color="#5a5a5a">;imports map</font><font color="#000000"><br />  classify </font><font color="#5a5a5a">; buildings are colored and labeled</font><font color="#000000"><br />  create-persons population [<br />    </font><font color="#5a5a5a">;students are randomly placed in setup</font><font color="#000000"><br />    </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-pxcor</font><font color="#000000"> </font><font color="#660096">random-pycor</font><font color="#000000"><br /><br />    </font><font color="#5a5a5a">;sets 2.5% of students to have covid, this was a creative liberty taken based off of anecdotal evidence</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> infected? (</font><font color="#660096">who</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> population </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">0.025</font><font color="#000000">) </font><font color="#5a5a5a">;; takes number of people times possiblity of having covid</font><font color="#000000"><br /><br />    </font><font color="#0000aa">set</font><font color="#000000"> close-contact? </font><font color="#963700">false</font><font color="#000000"> </font><font color="#5a5a5a">;noone is a close-contact at first</font><font color="#000000"><br /><br /><br />    set-colors<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">heading</font><font color="#000000"> </font><font color="#963700">180</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> infection-counter </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> immunity </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> known? </font><font color="#963700">false</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> quarantined? </font><font color="#963700">false</font><font color="#000000"><br /><br />    </font><font color="#5a5a5a">;;declares schedules</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> dining </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [dining? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">true</font><font color="#000000">]<br />    </font><font color="#0000aa">set</font><font color="#000000"> dorm </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [residence? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">true</font><font color="#000000">]<br />    </font><font color="#0000aa">set</font><font color="#000000"> class1 </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ class? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">true</font><font color="#000000"> ]<br />    </font><font color="#0000aa">set</font><font color="#000000"> class2 </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ class? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">true</font><font color="#000000"> ]<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"><br />  ]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> persons </font><font color="#660096">with</font><font color="#000000"> [infected? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">true</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> infection-counter </font><font color="#963700">336</font><font color="#000000"> ]  </font><font color="#5a5a5a">; infection will last 24 hours with each tick being 1 hour</font><font color="#000000"><br /><br />  </font><font color="#0000aa">reset-ticks</font><font color="#000000"><br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;observer-context function</font><font color="#000000"><br /></font><font color="#5a5a5a">;color variation within buildings is fixed and patches are labeled as specific locations</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> classify<br /><br />  </font><font color="#5a5a5a">;color fixing</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">24</font><font color="#000000">] [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">24.1</font><font color="#000000">]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">24.2</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">24.1</font><font color="#000000">]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">106.1</font><font color="#000000">] [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">106</font><font color="#000000"> ]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">44.7</font><font color="#000000">] [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">44.6</font><font color="#000000">]<br /><br />  </font><font color="#5a5a5a">;color fix and sets patch to class</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">24.1</font><font color="#000000">] [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">27</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> class? </font><font color="#963700">true</font><font color="#000000"> ]<br /><br />  </font><font color="#5a5a5a">;patches are set to have their purpose</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">106</font><font color="#000000">] [ </font><font color="#0000aa">set</font><font color="#000000"> residence? </font><font color="#963700">true</font><font color="#000000">]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">44.6</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> dining? </font><font color="#963700">true</font><font color="#000000">]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">114.9</font><font color="#000000">][</font><font color="#0000aa">set</font><font color="#000000"> quarantine? </font><font color="#963700">true</font><font color="#000000">]<br /><br /><br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /><br /></font><font color="#5a5a5a">;person-context function</font><font color="#000000"><br /></font><font color="#5a5a5a">;students change color depending on current state</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> set-colors<br />  </font><font color="#5a5a5a">;; if infected</font><font color="#000000"><br />  </font><font color="#0000aa">ifelse</font><font color="#000000"> infected? [<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;person3&quot;</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">135</font><font color="#000000"><br />  ][<br />    </font><font color="#5a5a5a">;close-contacts</font><font color="#000000"><br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> close-contact? [<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;person2&quot;</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">86</font><font color="#000000"><br />    ][<br />      </font><font color="#5a5a5a">;healthy</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;person2&quot;</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">63</font><font color="#000000"><br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;observer context function that executes every tick</font><font color="#000000"><br /></font><font color="#5a5a5a">; students are tested, quarantined, move, spread covid, and develop symptoms within a single tick</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> go<br /><br />  test  </font><font color="#5a5a5a">; tests students for covid</font><font color="#000000"><br />  quarantine </font><font color="#5a5a5a">; quarantines students with covid</font><font color="#000000"><br />  move<br />  </font><font color="#5a5a5a">;wait .7</font><font color="#000000"><br />  covid-spread </font><font color="#5a5a5a">; lets spread covid</font><font color="#000000"><br /> </font><font color="#5a5a5a">; wait .7</font><font color="#000000"><br />  develop-symptoms<br /> </font><font color="#5a5a5a">; wait .7</font><font color="#000000"><br /><br />  </font><font color="#0000aa">tick</font><font color="#000000"><br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /><br /><br /></font><font color="#5a5a5a">;observer context function</font><font color="#000000"><br /></font><font color="#5a5a5a">; depending on the time of day, persons move in different areas</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> move<br /><br />  </font><font color="#5a5a5a">; day ends with students staying in dorms until 8</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> time-of-day </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> [<br />    </font><font color="#0000aa">ask</font><font color="#000000"> persons </font><font color="#660096">with</font><font color="#000000"> [quarantined? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">false</font><font color="#000000">]  [</font><font color="#0000aa">move-to</font><font color="#000000"> dorm </font><font color="#0000aa">set</font><font color="#000000"> current-location </font><font color="#963700">&quot;dorm&quot;</font><font color="#000000">]<br />    </font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#963700">&quot;Students are now sleeping&quot;</font><font color="#000000"><br />  ]<br /><br />  </font><font color="#5a5a5a">; some students leave to go to eat at 8</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> time-of-day </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">8</font><font color="#000000"> [<br />    </font><font color="#0000aa">show</font><font color="#000000"> </font><font color="#963700">&quot;The day starts&quot;</font><font color="#000000"><br />    </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">up-to-n-of</font><font color="#000000"> (pop-thirds) persons </font><font color="#660096">with</font><font color="#000000"> [quarantined? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">false</font><font color="#000000">]  [</font><font color="#0000aa">move-to</font><font color="#000000"> dining </font><font color="#0000aa">set</font><font color="#000000"> current-location </font><font color="#963700">&quot;dine&quot;</font><font color="#000000">]<br />  ]<br /><br />  </font><font color="#5a5a5a">;other students go to eat at 9</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> time-of-day </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">9</font><font color="#000000"> [<br />    </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">up-to-n-of</font><font color="#000000"> (pop-thirds) persons </font><font color="#660096">with</font><font color="#000000"> [current-location </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;dorm&quot;</font><font color="#000000">] [</font><font color="#0000aa">move-to</font><font color="#000000"> dining </font><font color="#0000aa">set</font><font color="#000000"> current-location </font><font color="#963700">&quot;dine&quot;</font><font color="#000000">]  </font><font color="#5a5a5a">; moves rest of persons to dining hall</font><font color="#000000"><br />  ]<br /><br />  </font><font color="#5a5a5a">;students then move to a random class at 11</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> time-of-day </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">11</font><font color="#000000">[<br />    </font><font color="#0000aa">ask</font><font color="#000000"> persons </font><font color="#660096">with</font><font color="#000000"> [quarantined? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">false</font><font color="#000000">] [</font><font color="#0000aa">move-to</font><font color="#000000"> random-class]<br /><br />  ]<br /><br />  </font><font color="#5a5a5a">;students randomly go to another class at 12</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> time-of-day </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">12</font><font color="#000000"> [ </font><font color="#0000aa">ask</font><font color="#000000"> persons </font><font color="#660096">with</font><font color="#000000"> [quarantined? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">false</font><font color="#000000">] [ </font><font color="#0000aa">move-to</font><font color="#000000"> random-class </font><font color="#0000aa">set</font><font color="#000000"> current-location </font><font color="#963700">&quot;class&quot;</font><font color="#000000">]]<br /><br />  </font><font color="#5a5a5a">;some students that are in class go to eat at 1</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> time-of-day </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">13</font><font color="#000000"> [</font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">up-to-n-of</font><font color="#000000"> (pop-thirds </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">) persons </font><font color="#660096">with</font><font color="#000000"> [current-location </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;class&quot;</font><font color="#000000"> ] [ </font><font color="#0000aa">move-to</font><font color="#000000"> dining </font><font color="#0000aa">set</font><font color="#000000"> current-location </font><font color="#963700">&quot;dine&quot;</font><font color="#000000"> ] ]<br /><br />  </font><font color="#5a5a5a">;students who are dining go to class and students who are in class go back to their dorms</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> time-of-day </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">14</font><font color="#000000"> [<br />    </font><font color="#0000aa">ask</font><font color="#000000"> persons </font><font color="#660096">with</font><font color="#000000"> [current-location </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;class&quot;</font><font color="#000000">] [</font><font color="#0000aa">move-to</font><font color="#000000"> dorm </font><font color="#0000aa">set</font><font color="#000000"> current-location </font><font color="#963700">&quot;dorm&quot;</font><font color="#000000">]<br />    </font><font color="#0000aa">ask</font><font color="#000000"> persons </font><font color="#660096">with</font><font color="#000000"> [ current-location </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;dine&quot;</font><font color="#000000"> ][ </font><font color="#0000aa">move-to</font><font color="#000000"> random-class </font><font color="#0000aa">set</font><font color="#000000"> current-location </font><font color="#963700">&quot;class&quot;</font><font color="#000000">]]<br /><br />  </font><font color="#5a5a5a">;students continue random movement between classrooms, dorms, and dining, from 3pm until midnight</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> time-of-day </font><font color="#660096">&gt;=</font><font color="#000000"> </font><font color="#963700">15</font><font color="#000000"> [</font><font color="#0000aa">ask</font><font color="#000000"> persons </font><font color="#660096">with</font><font color="#000000"> [quarantined? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">false</font><font color="#000000">] [ </font><font color="#0000aa">move-to</font><font color="#000000"> random-move]]<br /><br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#5a5a5a">;; going to set covid counter manually</font><font color="#000000"><br /></font><font color="#5a5a5a">; person-context</font><font color="#000000"><br /></font><font color="#5a5a5a">;students can recover from their current illness after 336 hours of covid</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> recover<br />  </font><font color="#0000aa">if</font><font color="#000000"> infected? [<br />    </font><font color="#0000aa">set</font><font color="#000000"> infection-counter infection-counter </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#5a5a5a">;decreases by a single hour</font><font color="#000000"><br />    </font><font color="#5a5a5a">;checks to make sure 336 hours have gone by</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> infection-counter </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> [<br />      </font><font color="#0000aa">set</font><font color="#000000"> infected? </font><font color="#963700">false</font><font color="#000000"><br />      set-colors        </font><font color="#5a5a5a">;updates visual of person to show they are healthy</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> immunity </font><font color="#963700">1460</font><font color="#000000"> </font><font color="#5a5a5a">; roughly 2 months in hours</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> known? </font><font color="#963700">false</font><font color="#000000">  </font><font color="#5a5a5a">; students are then released from quarantine</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> quarantined? </font><font color="#963700">false</font><font color="#000000"><br />    ]<br />  ]<br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;observer context function</font><font color="#000000"><br /></font><font color="#5a5a5a">;persons lose immunity, recover, and spread infection within this function</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> covid-spread<br />  </font><font color="#0000aa">ask</font><font color="#000000"> persons [<br />    </font><font color="#0000aa">if</font><font color="#000000"> immunity </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> immunity immunity </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> ] </font><font color="#5a5a5a">; decreases immunity of a person by 1 hour</font><font color="#000000"><br /><br />    recover </font><font color="#5a5a5a">; if student is infected, gives a chance for recovery</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> infected? [<br /><br />      </font><font color="#5a5a5a">;only infect students who are not infected and are not immune</font><font color="#000000"><br />      </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">other</font><font color="#000000"> persons </font><font color="#660096">in-radius</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [infected? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">false</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> immunity </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">][<br />        </font><font color="#0000aa">set</font><font color="#000000"> close-contact? </font><font color="#963700">true</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> close-contact-counter </font><font color="#963700">336</font><font color="#000000"> </font><font color="#5a5a5a">; 5 day close-contacts</font><font color="#000000"><br /><br />        ]<br />       set-colors </font><font color="#5a5a5a">;resets visual of a student</font><font color="#000000"><br />      ]<br />    ]<br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#5a5a5a">; observer context function</font><font color="#000000"><br /></font><font color="#5a5a5a">; close-contacts can develop covid</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> develop-symptoms<br /><br />  </font><font color="#5a5a5a">;close-contacts have a chance of developing covid</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> persons </font><font color="#660096">with</font><font color="#000000"> [close-contact? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">true</font><font color="#000000">] [<br />    </font><font color="#0000aa">let</font><font color="#000000"> infection-rate </font><font color="#963700">2.5</font><font color="#000000"><br />    </font><font color="#5a5a5a">;higher chance at dining halls</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> current-location </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;dine&quot;</font><font color="#000000"> [<br />      </font><font color="#0000aa">set</font><font color="#000000"> infection-rate </font><font color="#963700">30</font><font color="#000000">]<br />    </font><font color="#5a5a5a">;checks if it has been at least 2 days</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> close-contact-counter </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">168</font><font color="#000000">[<br />      </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#660096">&lt;=</font><font color="#000000"> infection-rate[<br />        </font><font color="#0000aa">set</font><font color="#000000"> infected? </font><font color="#963700">true</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> infection-counter </font><font color="#963700">336</font><font color="#000000"> </font><font color="#5a5a5a">;two weeks in hours</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> close-contact? </font><font color="#963700">false</font><font color="#000000">  </font><font color="#5a5a5a">;no longer a close contact</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> close-contact-counter </font><font color="#963700">1</font><font color="#000000"> </font><font color="#5a5a5a">; gets decreased to zero once leaving the if statement</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> known? </font><font color="#963700">false</font><font color="#000000"><br /><br />      ]<br />            set-colors </font><font color="#5a5a5a">; updates color</font><font color="#000000"><br />    ]<br />    </font><font color="#0000aa">set</font><font color="#000000"> close-contact-counter close-contact-counter </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> close-contact-counter </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> [<br />      </font><font color="#0000aa">set</font><font color="#000000"> close-contact? </font><font color="#963700">false</font><font color="#000000"><br />       set-colors </font><font color="#5a5a5a">; updates color</font><font color="#000000"><br />    ]<br /><br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;observer-context function</font><font color="#000000"><br /></font><font color="#5a5a5a">;tests depending on how frequent user decides, also only tests a certain percentage of population</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> test<br />  </font><font color="#0000aa">if</font><font color="#000000"> testing-time </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> [<br />    </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">n-of</font><font color="#000000"> ((</font><font color="#660096">count</font><font color="#000000"> persons) </font><font color="#660096">*</font><font color="#000000"> (testing-percentage </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000">)) persons [  </font><font color="#5a5a5a">;this only tests percentage specified by user</font><font color="#000000"><br />      </font><font color="#0000aa">if</font><font color="#000000"> infected? [<br />      </font><font color="#0000aa">set</font><font color="#000000"> known? </font><font color="#963700">true</font><font color="#000000"><br />      ]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;observer-context function</font><font color="#000000"><br /></font><font color="#5a5a5a">;persons are quarantined once they find out they are infected</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> quarantine<br />  </font><font color="#0000aa">if</font><font color="#000000"> isolation-on [<br />    </font><font color="#0000aa">ask</font><font color="#000000"> persons </font><font color="#660096">with</font><font color="#000000"> [known? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">true</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> quarantined? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">false</font><font color="#000000">] [<br />      </font><font color="#0000aa">move-to</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [quarantine? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">true</font><font color="#000000">] </font><font color="#5a5a5a">; to purple building</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> current-location </font><font color="#963700">&quot;quarantine&quot;</font><font color="#000000"><br />      </font><font color="#0000aa">set</font><font color="#000000"> quarantined? </font><font color="#963700">true</font><font color="#000000">]<br />  ]<br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;observer context reporter</font><font color="#000000"><br /></font><font color="#5a5a5a">;randomly picks third of population</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> pop-thirds<br />  </font><font color="#0000aa">report</font><font color="#000000"> population </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">; observer context reporter</font><font color="#000000"><br /></font><font color="#5a5a5a">; shows the time of day in hours</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> time-of-day<br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">mod</font><font color="#000000"> </font><font color="#963700">24</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#5a5a5a">;person-context reporter</font><font color="#000000"><br /></font><font color="#5a5a5a">;picks random class</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> random-class<br />  </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">.5</font><font color="#000000"> [<br />    </font><font color="#0000aa">report</font><font color="#000000"> class1<br />  ]<br />  [<br />    </font><font color="#0000aa">report</font><font color="#000000"> class2<br />  ]<br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#5a5a5a">;person-context function</font><font color="#000000"><br /></font><font color="#5a5a5a">;decides a random location to move to</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> random-move<br />  </font><font color="#5a5a5a">; 1 in 4 chance of getting a specific location</font><font color="#000000"><br />  </font><font color="#0000aa">let</font><font color="#000000"> prob </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"><br /><br />  </font><font color="#0000aa">if</font><font color="#000000"> prob </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> [<br />    </font><font color="#0000aa">report</font><font color="#000000"> dining<br />  ]<br />  </font><font color="#0000aa">if</font><font color="#000000"> prob </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> [<br />    </font><font color="#0000aa">report</font><font color="#000000"> class1<br />  ]<br />  </font><font color="#0000aa">if</font><font color="#000000"> prob </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> [<br />    </font><font color="#0000aa">report</font><font color="#000000"> class2<br />  ]<br />  </font><font color="#0000aa">if</font><font color="#000000"> prob </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"> [<br />    </font><font color="#0000aa">report</font><font color="#000000"> dorm<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;observer reporter</font><font color="#000000"><br /></font><font color="#5a5a5a">;calculates if test should be conducted</font><font color="#000000"><br /></font><font color="#007f69">to-report</font><font color="#000000"> testing-time<br /><br />  </font><font color="#0000aa">report</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">mod</font><font color="#000000"> (testing-frequency </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">24</font><font color="#000000">)<br /><br /></font><font color="#007f69">end</font>
</pre>
